{"projectName":"problem_2_3","totalTests":1,"passed":1,"failed":0,"skipped":0,"coveredLines":23,"missedLines":4,"coveragePercentage":85.19,"moduleStatus":[{"name":"problem_2_3","totalTests":1,"passed":1,"failed":0,"skipped":0,"tests":[{"name":"addHighPaymentTest#\u0027Test1\u0027","status":"PASSED"}]}],"moduleCoverage":[{"name":"problem_2_3","coveredLines":23,"missedLines":4,"coveragePercentage":85.19,"sourceFiles":[{"name":"main.bal","coveredLines":[5,6,7,8,9,10,11,12,13,14,18,19,21,23,24,26,27,28,29,32,33,34,40],"missedLines":[38,42,43,44],"coveragePercentage":85.19,"sourceCode":"import ballerina/io;\nimport ballerina/sql;\nimport ballerinax/java.jdbc;\n\ntype HighPayment record {\n    @sql:Column {name: \"name\"}\n    string name;\n    @sql:Column {name: \"department\"}\n    string department;\n    @sql:Column {name: \"amount\"}\n    decimal amount;\n    @sql:Column {name: \"reason\"}\n    string reason;\n};\n\nfunction getHighPaymentDetails(string dbFilePath, decimal amount) returns HighPayment[]|error {\n    jdbc:Client|sql:Error dbClient \u003d\n                            new (\"jdbc:h2:file:\" + dbFilePath,\n                            \"root\", \"root\");\n\n    if (dbClient is jdbc:Client) {\n        // Query table with a condition.\n        stream\u003cHighPayment, error?\u003e resultStream \u003d dbClient-\u003equery(`SELECT e.name,e.department, p.amount, p.reason FROM Employee AS e LEFT JOIN Payment as p ON e.employee_id\u003dp.employee_id WHERE p.amount\u003e${amount} ORDER BY p.payment_id ASC;`);\n        HighPayment[] result \u003d [];\n        // Iterates the result stream.\n        check from HighPayment customer in resultStream\n            do {\n                result.push(customer);\n            };\n\n        // Closes the stream to release the resources.\n        check resultStream.close();\n        check dbClient.close();\n        return result;\n\n    }\n        else {\n        return dbClient;\n    }\n}\n\npublic function main() {\n    io:println(getHighPaymentDetails(\"./db/gofigure\", 3000));\n}\n"}]}]}